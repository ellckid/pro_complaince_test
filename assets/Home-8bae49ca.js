import{o as i,c as b,a as s,w as a,v as g,n as r,b as v,d as k,_ as f,r as O,F as u,e as j,f as C,g as m}from"./index-fc1cf156.js";const E="/pro_comp_test/down_icon.svg",F="/pro_comp_test/cross.svg";const y=["id"],$={class:"item__container"},p={class:"text__container"},I=s("img",{class:"item__icon",src:E,alt:"change icon"},null,-1),V=[I],x=["id"],L={class:"item__color_container"},B=s("img",{class:"form__button_img",src:F},null,-1),w=[B],S={props:{object:{type:Object,required:!0}},data(){return{input:this.object.name,checked:this.object.checked}},watch:{checked(){this.$emit("sort-objects",this.object.id)}}},M=Object.assign(S,{__name:"ObjectItem",setup(e){function o(c){document.getElementById(c).classList.toggle("form__open"),document.getElementById(c+"item").classList.toggle("item__open"),document.getElementById(c+"item").classList.toggle("item__close")}return(c,t)=>(i(),b("li",{style:k({backgroundColor:e.object.color}),class:"item"},[s("div",{id:e.object.id+"item",class:"item__anim__container item__close"},[s("div",$,[s("div",p,[a(s("input",{type:"checkbox",class:"item__checkbox",onChange:t[0]||(t[0]=n=>e.object.checked=!e.object.checked),"onUpdate:modelValue":t[1]||(t[1]=n=>c.checked=n)},null,544),[[g,c.checked]]),s("span",{class:r(["item__checkbox_img",{img_done:e.object.checked}])},null,2),a(s("input",{type:"text",class:r(["item__text",{done:e.object.checked}]),"onUpdate:modelValue":t[2]||(t[2]=n=>c.input=n),onChange:t[3]||(t[3]=n=>c.$emit("change-value",e.object.id,this.input))},null,34),[[v,c.input]])]),s("button",{class:"item__button",onClick:t[4]||(t[4]=n=>o(e.object.id))},V)]),s("form",{class:"item__form",id:e.object.id},[s("div",L,[s("button",{class:"item__color_btn",onClick:t[5]||(t[5]=n=>e.object.color="#F8F8F8")}),s("button",{class:"item__color_btn",onClick:t[6]||(t[6]=n=>e.object.color="#F9E0E0")}),s("button",{class:"item__color_btn",onClick:t[7]||(t[7]=n=>e.object.color="#F9EFE0")}),s("button",{class:"item__color_btn",onClick:t[8]||(t[8]=n=>e.object.color="#EBF9E0")}),s("button",{class:"item__color_btn",onClick:t[9]||(t[9]=n=>e.object.color="#E0F9EA")}),s("button",{class:"item__color_btn",onClick:t[10]||(t[10]=n=>e.object.color="#E0F6F9")}),s("button",{class:"item__color_btn",onClick:t[11]||(t[11]=n=>e.object.color="#E0E5F9")})]),s("button",{class:"form__button",onClick:t[12]||(t[12]=n=>c.$emit("remove-object",e.object.id))},w)],8,x)],8,y)],4))}}),N="/pro_comp_test/plus.svg";const R={components:{ObjectItem:M},data(){return{objects:[{id:0,name:"Колбаса",color:"#F4E0F9",checked:!1},{id:1,name:"Яйца",color:"#E3E0F9",checked:!1},{id:2,name:"Молоко",color:"#E0EAF9",checked:!1}],completedObjects:[]}},methods:{sortedList(e){for(let o=0;o<this.objects.length;o++)this.objects[o].id==e&&(console.log(this.objects),console.log(this.completedObjects),this.objects.includes(this.objects[o])&&(this.objects.splice(o,1),this.completedObjects.push(this.objects[o]),console.log("элемент "+this.objects[o].name+" "+o+" выбран и должен быть внизу")))},removeObject(e){this.objects=this.objects.filter(o=>o.id!==e)},changeValue(e,o){console.log(e),console.log(o),this.objects.map(c=>{o.trim()&&c.id===e&&(c.value=o)})},findNewId(){let e=[];this.objects.forEach(c=>{e.push(c.id)});let o=Math.random();return console.log(o),e.includes(o)&&(o=Math.random()),o},addObject(){const e={id:this.findNewId(),name:"Новый продукт",color:"#F8F8F8",checked:!1};this.objects.push(e),console.log(this.objects)}}},z={class:"list__container"},A={class:"list__headings"},H=s("h1",{class:"list__h1"},"Список продуктов",-1),U=s("img",{class:"list__addbtn_img",src:N},null,-1),q=[U],D={class:"list"},P={key:2,class:"list__warning"};function T(e,o,c,t,n,l){const _=O("ObjectItem");return i(),b("div",z,[s("div",A,[H,s("button",{class:"list__addbtn",onClick:o[0]||(o[0]=d=>l.addObject())},q)]),s("ul",D,[n.objects.length?(i(!0),b(u,{key:0},j(n.objects,d=>(i(),m(_,{object:d,onRemoveObject:l.removeObject,onChangeValue:l.changeValue,onSortObjects:l.sortedList,key:d.id},null,8,["object","onRemoveObject","onChangeValue","onSortObjects"]))),128)):C("",!0),n.completedObjects.length?(i(!0),b(u,{key:1},j(n.completedObjects,d=>(i(),m(_,{object:d,onRemoveObject:l.removeObject,onChangeValue:l.changeValue,onSortObjects:l.sortedList,key:d.id},null,8,["object","onRemoveObject","onChangeValue","onSortObjects"]))),128)):(i(),b("span",P,"В списке нет продуктов ("))])])}const h=f(R,[["render",T]]);const G={components:{ObjectList:h}},K=Object.assign(G,{__name:"Home",setup(e){return(o,c)=>(i(),m(h,{objects:o.objects},null,8,["objects"]))}});export{K as default};
