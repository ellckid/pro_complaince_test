import{o as i,c as m,a as s,w as b,v,n as _,b as f,d as O,_ as k,r as p,F as j,e as u,f as h,g as d}from"./index-570034bc.js";const E="/pro_comp_test/down_icon.svg",y="/pro_comp_test/cross.svg";const C=["id"],F={class:"item__container"},I={class:"text__container"},S=s("img",{class:"item__icon",src:E,alt:"change icon"},null,-1),$=[S],x=["id"],V={class:"item__color_container"},L=s("img",{class:"form__button_img",src:y},null,-1),B=[L],N={props:{object:{type:Object,required:!0}},data(){return{input:this.object.name,checked:this.object.checked}},watch:{checked(){this.object.checked=!this.object.checked,this.$emit("sort-objects",this.object.id,this.checked)}}},w=Object.assign(N,{__name:"ObjectItem",setup(e){function c(o){document.getElementById(o).classList.toggle("form__open"),document.getElementById(o+"item").classList.toggle("item__open"),document.getElementById(o+"item").classList.toggle("item__close")}return(o,t)=>(i(),m("li",{style:O({backgroundColor:e.object.color}),class:"item"},[s("div",{id:e.object.id+"item",class:"item__anim__container item__close"},[s("div",F,[s("div",I,[b(s("input",{type:"checkbox",class:"item__checkbox",onChange:t[0]||(t[0]=()=>{}),"onUpdate:modelValue":t[1]||(t[1]=n=>o.checked=n)},null,544),[[v,o.checked]]),s("span",{class:_(["item__checkbox_img",{img_done:e.object.checked}])},null,2),b(s("input",{type:"text",class:_(["item__text",{done:e.object.checked}]),"onUpdate:modelValue":t[2]||(t[2]=n=>o.input=n),onChange:t[3]||(t[3]=n=>o.$emit("change-value",e.object.id,this.input))},null,34),[[f,o.input]])]),s("button",{class:"item__button",onClick:t[4]||(t[4]=n=>c(e.object.id))},$)]),s("form",{class:"item__form",id:e.object.id},[s("div",V,[s("button",{class:"item__color_btn",onClick:t[5]||(t[5]=n=>e.object.color="#F8F8F8")}),s("button",{class:"item__color_btn",onClick:t[6]||(t[6]=n=>e.object.color="#F9E0E0")}),s("button",{class:"item__color_btn",onClick:t[7]||(t[7]=n=>e.object.color="#F9EFE0")}),s("button",{class:"item__color_btn",onClick:t[8]||(t[8]=n=>e.object.color="#EBF9E0")}),s("button",{class:"item__color_btn",onClick:t[9]||(t[9]=n=>e.object.color="#E0F9EA")}),s("button",{class:"item__color_btn",onClick:t[10]||(t[10]=n=>e.object.color="#E0F6F9")}),s("button",{class:"item__color_btn",onClick:t[11]||(t[11]=n=>e.object.color="#E0E5F9")})]),s("button",{class:"form__button",onClick:t[12]||(t[12]=n=>o.$emit("remove-object",e.object.id))},B)],8,x)],8,C)],4))}}),D="/pro_comp_test/plus.svg";const J={components:{ObjectItem:w},data(){return{objects:[{id:0,name:"Колбаса",color:"#F4E0F9",checked:!1},{id:1,name:"Яйца",color:"#E3E0F9",checked:!1},{id:2,name:"Молоко",color:"#E0EAF9",checked:!1}],completedObjects:[]}},mounted(){if(localStorage.getItem("objects"))try{this.objects=JSON.parse(localStorage.getItem("objects"))}catch{localStorage.removeItem("objects")}if(localStorage.getItem("completed"))try{this.completedObjects=JSON.parse(localStorage.getItem("completed"))}catch{localStorage.removeItem("completed")}},methods:{sortedList(e,c){console.log(e),console.log(c),c==!0&&(this.objects.forEach(o=>{o.id==e&&(this.completedObjects.push(o),this.objects.splice(this.objects.indexOf(o),1))}),console.log(this.objects),console.log(this.completedObjects)),c==!1&&(console.log("значение false"),this.completedObjects.forEach(o=>{o.id==e&&(console.log("id элемента = "+o.id),this.objects.push(o),this.completedObjects.splice(this.completedObjects.indexOf(o),1))}),console.log(this.objects),console.log(this.completedObjects)),this.saveData()},removeObject(e){this.objects=this.objects.filter(c=>c.id!==e),this.saveData()},changeValue(e,c){console.log(e),console.log(c),this.objects.map(o=>{c.trim()&&o.id===e&&(o.value=c)}),this.saveData()},findNewId(){let e=[];this.objects.forEach(o=>{e.push(o.id)});let c=Math.random();return console.log(c),e.includes(c)&&(c=Math.random()),c},addObject(){console.log(localStorage.getItem("objects"));const e={id:this.findNewId(),name:"Новый продукт",color:"#F8F8F8",checked:!1};this.objects.push(e),console.log(this.objects),this.saveData()},saveData(){localStorage.setItem("completed",JSON.stringify(this.completedObjects)),localStorage.setItem("objects",JSON.stringify(this.objects))}}},M={class:"list__container"},R={class:"list__headings"},z=s("h1",{class:"list__h1"},"Список продуктов",-1),A=s("img",{class:"list__addbtn_img",src:D},null,-1),H=[A],U={class:"list"},q=s("hr",null,null,-1);function P(e,c,o,t,n,l){const r=p("ObjectItem");return i(),m("div",M,[s("div",R,[z,s("button",{class:"list__addbtn",onClick:c[0]||(c[0]=a=>l.addObject())},H)]),s("ul",U,[n.objects.length?(i(!0),m(j,{key:0},u(n.objects,a=>(i(),d(r,{object:a,onRemoveObject:l.removeObject,onChangeValue:l.changeValue,onSortObjects:l.sortedList,key:a.id},null,8,["object","onRemoveObject","onChangeValue","onSortObjects"]))),128)):h("",!0),q,n.completedObjects.length?(i(!0),m(j,{key:1},u(n.completedObjects,a=>(i(),d(r,{object:a,onRemoveObject:l.removeObject,onChangeValue:l.changeValue,onSortObjects:l.sortedList,key:a.id},null,8,["object","onRemoveObject","onChangeValue","onSortObjects"]))),128)):h("",!0)])])}const g=k(J,[["render",P]]);const T={components:{ObjectList:g}},K=Object.assign(T,{__name:"Home",setup(e){return(c,o)=>(i(),d(g,{objects:c.objects},null,8,["objects"]))}});export{K as default};
