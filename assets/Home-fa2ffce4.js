import{o as l,c as m,a as s,w as b,v,n as _,b as O,d as f,_ as p,r as k,F as h,e as j,f as u,g as d}from"./index-bf946be2.js";const C="/pro_complaince_test/down_icon.svg",y="/pro_complaince_test/cross.svg";const $=["id"],E={class:"item__container"},I={class:"text__container"},S=s("img",{class:"item__icon",src:C,alt:"change icon"},null,-1),F=[S],V=["id"],w={class:"item__color_container"},L=s("img",{class:"form__button_img",src:y},null,-1),B=[L],N={props:{object:{type:Object,required:!0}},data(){return{input:this.object.name,checked:this.object.checked}},watch:{checked(){this.object.checked=!this.object.checked,this.$emit("sort-objects",this.object.id,this.checked)},input(){this.object.name=this.input,this.$emit("change-value",this.object.id,this.input)}}},D=Object.assign(N,{__name:"ObjectItem",setup(t){function c(e){document.getElementById(e).classList.toggle("form__open"),document.getElementById(e+"item").classList.toggle("item__open"),document.getElementById(e+"item").classList.toggle("item__close")}return(e,o)=>(l(),m("li",{style:f({backgroundColor:t.object.color}),class:"item"},[s("div",{id:t.object.id+"item",class:"item__anim__container item__close"},[s("div",E,[s("div",I,[b(s("input",{type:"checkbox",class:"item__checkbox",onChange:o[0]||(o[0]=()=>{}),"onUpdate:modelValue":o[1]||(o[1]=n=>e.checked=n)},null,544),[[v,e.checked]]),s("span",{class:_(["item__checkbox_img",{img_done:t.object.checked}])},null,2),b(s("input",{type:"text",class:_(["item__text",{done:t.object.checked}]),"onUpdate:modelValue":o[2]||(o[2]=n=>e.input=n),onChange:o[3]||(o[3]=()=>{})},null,34),[[O,e.input]])]),s("button",{class:"item__button",onClick:o[4]||(o[4]=n=>c(t.object.id))},F)]),s("form",{class:"item__form",id:t.object.id},[s("div",w,[s("button",{class:"item__color_btn",onClick:o[5]||(o[5]=n=>e.$emit("change-color",t.object.id,"#F8F8F8"))}),s("button",{class:"item__color_btn",onClick:o[6]||(o[6]=n=>e.$emit("change-color",t.object.id,"#F9E0E0"))}),s("button",{class:"item__color_btn",onClick:o[7]||(o[7]=n=>e.$emit("change-color",t.object.id,"#F9EFE0"))}),s("button",{class:"item__color_btn",onClick:o[8]||(o[8]=n=>e.$emit("change-color",t.object.id,"#EBF9E0"))}),s("button",{class:"item__color_btn",onClick:o[9]||(o[9]=n=>e.$emit("change-color",t.object.id,"#E0F9EA"))}),s("button",{class:"item__color_btn",onClick:o[10]||(o[10]=n=>e.$emit("change-color",t.object.id,"#E0F6F9"))}),s("button",{class:"item__color_btn",onClick:o[11]||(o[11]=n=>e.$emit("change-color",t.object.id,"#E0E5F9"))})]),s("button",{class:"form__button",onClick:o[12]||(o[12]=n=>e.$emit("remove-object",t.object.id))},B)],8,V)],8,$)],4))}}),x="/pro_complaince_test/plus.svg";const J={components:{ObjectItem:D},data(){return{objects:[],completedObjects:[]}},mounted(){if(localStorage.getItem("objects"))try{this.objects=JSON.parse(localStorage.getItem("objects"))}catch{localStorage.removeItem("objects")}if(localStorage.getItem("completed"))try{this.completedObjects=JSON.parse(localStorage.getItem("completed"))}catch{localStorage.removeItem("completed")}},methods:{changeColor(t,c){this.objects.forEach(e=>{e.id===t&&(e.color=c,this.saveData())})},changeValue(t,c){this.objects.forEach(e=>{e.id===t&&(e.name=c,this.saveData())})},sortedList(t,c){console.log(t),console.log(c),c==!0&&(this.objects.forEach(e=>{e.id==t&&(this.completedObjects.push(e),this.objects.splice(this.objects.indexOf(e),1))}),console.log(this.objects),console.log(this.completedObjects)),c==!1&&(console.log("значение false"),this.completedObjects.forEach(e=>{e.id==t&&(console.log("id элемента = "+e.id),this.objects.push(e),this.completedObjects.splice(this.completedObjects.indexOf(e),1))}),console.log(this.objects),console.log(this.completedObjects)),this.saveData()},removeObject(t){this.objects=this.objects.filter(c=>c.id!==t),this.saveData()},findNewId(){let t=[];this.objects.forEach(e=>{t.push(e.id)});let c=Math.random();return console.log(c),t.includes(c)&&(c=Math.random()),c},addObject(){console.log(localStorage.getItem("objects"));const t={id:this.findNewId(),name:"Новый продукт",color:"#F8F8F8",checked:!1};this.objects.push(t),console.log(this.objects),this.saveData()},saveData(){localStorage.setItem("completed",JSON.stringify(this.completedObjects)),localStorage.setItem("objects",JSON.stringify(this.objects))}}},M={class:"list__container"},R={class:"list__headings"},z=s("h1",{class:"list__h1"},"Список продуктов",-1),H=s("img",{class:"list__addbtn_img",src:x},null,-1),U=[H],q={class:"list"},A=s("hr",null,null,-1),P={key:2,class:"list__warning"};function T(t,c,e,o,n,i){const r=k("ObjectItem");return l(),m("div",M,[s("div",R,[z,s("button",{class:"list__addbtn",onClick:c[0]||(c[0]=a=>i.addObject())},U)]),s("ul",q,[n.objects.length?(l(!0),m(h,{key:0},j(n.objects,a=>(l(),d(r,{object:a,onRemoveObject:i.removeObject,onChangeValue:i.changeValue,onSortObjects:i.sortedList,onChangeColor:i.changeColor,key:a.id},null,8,["object","onRemoveObject","onChangeValue","onSortObjects","onChangeColor"]))),128)):u("",!0),A,n.completedObjects.length?(l(!0),m(h,{key:1},j(n.completedObjects,a=>(l(),d(r,{object:a,onRemoveObject:i.removeObject,onChangeValue:i.changeValue,onSortObjects:i.sortedList,key:a.id},null,8,["object","onRemoveObject","onChangeValue","onSortObjects"]))),128)):!n.completedObjects.length&&!n.objects.length?(l(),m("span",P,"В списке нет продуктов(")):u("",!0)])])}const g=p(J,[["render",T]]);const G={components:{ObjectList:g}},Q=Object.assign(G,{__name:"Home",setup(t){return(c,e)=>(l(),d(g,{objects:c.objects},null,8,["objects"]))}});export{Q as default};
