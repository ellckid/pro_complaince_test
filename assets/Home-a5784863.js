import{o as i,c as m,a as o,w as r,v,n as a,b as k,d as f,_ as O,r as p,F as u,e as j,f as h,g as b}from"./index-7b40137e.js";const C="/pro_comp_test/down_icon.svg",E="/pro_comp_test/cross.svg";const F=["id"],$={class:"item__container"},y={class:"text__container"},x=o("img",{class:"item__icon",src:C,alt:"change icon"},null,-1),I=[x],V=["id"],L={class:"item__color_container"},B=o("img",{class:"form__button_img",src:E},null,-1),w=[B],M={props:{object:{type:Object,required:!0}},data(){return{input:this.object.name,checked:this.object.checked}},watch:{checked(){this.$emit("sort-objects",this.object.id,this.checked)}}},S=Object.assign(M,{__name:"ObjectItem",setup(e){function c(s){document.getElementById(s).classList.toggle("form__open"),document.getElementById(s+"item").classList.toggle("item__open"),document.getElementById(s+"item").classList.toggle("item__close")}return(s,t)=>(i(),m("li",{style:f({backgroundColor:e.object.color}),class:"item"},[o("div",{id:e.object.id+"item",class:"item__anim__container item__close"},[o("div",$,[o("div",y,[r(o("input",{type:"checkbox",class:"item__checkbox",onChange:t[0]||(t[0]=n=>e.object.checked=!e.object.checked),"onUpdate:modelValue":t[1]||(t[1]=n=>s.checked=n)},null,544),[[v,s.checked]]),o("span",{class:a(["item__checkbox_img",{img_done:e.object.checked}])},null,2),r(o("input",{type:"text",class:a(["item__text",{done:e.object.checked}]),"onUpdate:modelValue":t[2]||(t[2]=n=>s.input=n),onChange:t[3]||(t[3]=n=>s.$emit("change-value",e.object.id,this.input))},null,34),[[k,s.input]])]),o("button",{class:"item__button",onClick:t[4]||(t[4]=n=>c(e.object.id))},I)]),o("form",{class:"item__form",id:e.object.id},[o("div",L,[o("button",{class:"item__color_btn",onClick:t[5]||(t[5]=n=>e.object.color="#F8F8F8")}),o("button",{class:"item__color_btn",onClick:t[6]||(t[6]=n=>e.object.color="#F9E0E0")}),o("button",{class:"item__color_btn",onClick:t[7]||(t[7]=n=>e.object.color="#F9EFE0")}),o("button",{class:"item__color_btn",onClick:t[8]||(t[8]=n=>e.object.color="#EBF9E0")}),o("button",{class:"item__color_btn",onClick:t[9]||(t[9]=n=>e.object.color="#E0F9EA")}),o("button",{class:"item__color_btn",onClick:t[10]||(t[10]=n=>e.object.color="#E0F6F9")}),o("button",{class:"item__color_btn",onClick:t[11]||(t[11]=n=>e.object.color="#E0E5F9")})]),o("button",{class:"form__button",onClick:t[12]||(t[12]=n=>s.$emit("remove-object",e.object.id))},w)],8,V)],8,F)],4))}}),N="/pro_comp_test/plus.svg";const R={components:{ObjectItem:S},data(){return{objects:[{id:0,name:"Колбаса",color:"#F4E0F9",checked:!1},{id:1,name:"Яйца",color:"#E3E0F9",checked:!1},{id:2,name:"Молоко",color:"#E0EAF9",checked:!1}],completedObjects:[]}},methods:{sortedList(e,c){if(console.log(e),c==!0){const s=this.objects.splice(t=>this.objects.indexOf(t),1);this.completedObjects.push(...s),console.log(this.objects),console.log(this.completedObjects)}if(c==!1){const s=this.completedObjects.splice(t=>this.objects.indexOf(t),1);this.objects.push(...s),console.log(this.objects),console.log(this.completedObjects)}},removeObject(e){this.objects=this.objects.filter(c=>c.id!==e)},changeValue(e,c){console.log(e),console.log(c),this.objects.map(s=>{c.trim()&&s.id===e&&(s.value=c)})},findNewId(){let e=[];this.objects.forEach(s=>{e.push(s.id)});let c=Math.random();return console.log(c),e.includes(c)&&(c=Math.random()),c},addObject(){const e={id:this.findNewId(),name:"Новый продукт",color:"#F8F8F8",checked:!1};this.objects.push(e),console.log(this.objects)}}},z={class:"list__container"},A={class:"list__headings"},H=o("h1",{class:"list__h1"},"Список продуктов",-1),U=o("img",{class:"list__addbtn_img",src:N},null,-1),q=[U],D={class:"list"},P=o("hr",null,null,-1);function T(e,c,s,t,n,l){const _=p("ObjectItem");return i(),m("div",z,[o("div",A,[H,o("button",{class:"list__addbtn",onClick:c[0]||(c[0]=d=>l.addObject())},q)]),o("ul",D,[n.objects.length?(i(!0),m(u,{key:0},j(n.objects,d=>(i(),b(_,{object:d,onRemoveObject:l.removeObject,onChangeValue:l.changeValue,onSortObjects:l.sortedList,key:d.id},null,8,["object","onRemoveObject","onChangeValue","onSortObjects"]))),128)):h("",!0),P,n.completedObjects.length?(i(!0),m(u,{key:1},j(n.completedObjects,d=>(i(),b(_,{object:d,onRemoveObject:l.removeObject,onChangeValue:l.changeValue,onSortObjects:l.sortedList,key:d.id},null,8,["object","onRemoveObject","onChangeValue","onSortObjects"]))),128)):h("",!0)])])}const g=O(R,[["render",T]]);const G={components:{ObjectList:g}},K=Object.assign(G,{__name:"Home",setup(e){return(c,s)=>(i(),b(g,{objects:c.objects},null,8,["objects"]))}});export{K as default};
