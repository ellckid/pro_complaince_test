import{o as l,c as m,a as s,w as r,v,n as u,b as O,d as f,_ as k,r as p,F as j,e as h,f as _,g as d}from"./index-e629d1b6.js";const $="/pro_complaince_test/down_icon.svg",y="/pro_complaince_test/cross.svg";const C=["id"],I={class:"item__container"},E={class:"text__container"},S=s("img",{class:"item__icon",src:$,alt:"change icon"},null,-1),F=[S],V=["id"],L={class:"item__color_container"},B=s("img",{class:"form__button_img",src:y},null,-1),N=[B],w={props:{object:{type:Object,required:!0}},data(){return{input:this.object.name,checked:this.object.checked}},watch:{checked(){this.object.checked=!this.object.checked,this.$emit("sort-objects",this.object.id,this.checked)}}},D=Object.assign(w,{__name:"ObjectItem",setup(e){function c(t){document.getElementById(t).classList.toggle("form__open"),document.getElementById(t+"item").classList.toggle("item__open"),document.getElementById(t+"item").classList.toggle("item__close")}return(t,o)=>(l(),m("li",{style:f({backgroundColor:e.object.color}),class:"item"},[s("div",{id:e.object.id+"item",class:"item__anim__container item__close"},[s("div",I,[s("div",E,[r(s("input",{type:"checkbox",class:"item__checkbox",onChange:o[0]||(o[0]=()=>{}),"onUpdate:modelValue":o[1]||(o[1]=n=>t.checked=n)},null,544),[[v,t.checked]]),s("span",{class:u(["item__checkbox_img",{img_done:e.object.checked}])},null,2),r(s("input",{type:"text",class:u(["item__text",{done:e.object.checked}]),"onUpdate:modelValue":o[2]||(o[2]=n=>t.input=n),onChange:o[3]||(o[3]=n=>t.$emit("change-value",e.object.id,this.input))},null,34),[[O,t.input]])]),s("button",{class:"item__button",onClick:o[4]||(o[4]=n=>c(e.object.id))},F)]),s("form",{class:"item__form",id:e.object.id},[s("div",L,[s("button",{class:"item__color_btn",onClick:o[5]||(o[5]=n=>(e.object.color="#F8F8F8",t.$emit("change-value",e.object.id,this.input)))}),s("button",{class:"item__color_btn",onClick:o[6]||(o[6]=n=>(e.object.color="#F9E0E0",t.$emit("change-value",e.object.id,this.input)))}),s("button",{class:"item__color_btn",onClick:o[7]||(o[7]=n=>(e.object.color="#F9EFE0",t.$emit("change-value",e.object.id,this.input)))}),s("button",{class:"item__color_btn",onClick:o[8]||(o[8]=n=>(e.object.color="#EBF9E0",t.$emit("change-value",e.object.id,this.input)))}),s("button",{class:"item__color_btn",onClick:o[9]||(o[9]=n=>(e.object.color="#E0F9EA",t.$emit("change-value",e.object.id,this.input)))}),s("button",{class:"item__color_btn",onClick:o[10]||(o[10]=n=>(e.object.color="#E0F6F9",t.$emit("change-value",e.object.id,this.input)))}),s("button",{class:"item__color_btn",onClick:o[11]||(o[11]=n=>(e.object.color="#E0E5F9",t.$emit("change-value",e.object.id,this.input)))})]),s("button",{class:"form__button",onClick:o[12]||(o[12]=n=>t.$emit("remove-object",e.object.id))},N)],8,V)],8,C)],4))}}),x="/pro_complaince_test/plus.svg";const J={components:{ObjectItem:D},data(){return{objects:[],completedObjects:[]}},mounted(){if(localStorage.getItem("objects"))try{this.objects=JSON.parse(localStorage.getItem("objects"))}catch{localStorage.removeItem("objects")}if(localStorage.getItem("completed"))try{this.completedObjects=JSON.parse(localStorage.getItem("completed"))}catch{localStorage.removeItem("completed")}},methods:{sortedList(e,c){console.log(e),console.log(c),c==!0&&(this.objects.forEach(t=>{t.id==e&&(this.completedObjects.push(t),this.objects.splice(this.objects.indexOf(t),1))}),console.log(this.objects),console.log(this.completedObjects)),c==!1&&(console.log("значение false"),this.completedObjects.forEach(t=>{t.id==e&&(console.log("id элемента = "+t.id),this.objects.push(t),this.completedObjects.splice(this.completedObjects.indexOf(t),1))}),console.log(this.objects),console.log(this.completedObjects)),this.saveData()},removeObject(e){this.objects=this.objects.filter(c=>c.id!==e),this.saveData()},changeValue(e,c){console.log(e),console.log(c),this.objects.forEach(t=>{c.trim()&&t.id===e&&(t.name=c,this.saveData())}),console.log(this.objects)},findNewId(){let e=[];this.objects.forEach(t=>{e.push(t.id)});let c=Math.random();return console.log(c),e.includes(c)&&(c=Math.random()),c},addObject(){console.log(localStorage.getItem("objects"));const e={id:this.findNewId(),name:"Новый продукт",color:"#F8F8F8",checked:!1};this.objects.push(e),console.log(this.objects),this.saveData()},saveData(){localStorage.setItem("completed",JSON.stringify(this.completedObjects)),localStorage.setItem("objects",JSON.stringify(this.objects))}}},M={class:"list__container"},R={class:"list__headings"},z=s("h1",{class:"list__h1"},"Список продуктов",-1),H=s("img",{class:"list__addbtn_img",src:x},null,-1),U=[H],q={class:"list"},A=s("hr",null,null,-1);function P(e,c,t,o,n,i){const b=p("ObjectItem");return l(),m("div",M,[s("div",R,[z,s("button",{class:"list__addbtn",onClick:c[0]||(c[0]=a=>i.addObject())},U)]),s("ul",q,[n.objects.length?(l(!0),m(j,{key:0},h(n.objects,a=>(l(),d(b,{object:a,onRemoveObject:i.removeObject,onChangeValue:i.changeValue,onSortObjects:i.sortedList,key:a.id},null,8,["object","onRemoveObject","onChangeValue","onSortObjects"]))),128)):_("",!0),A,n.completedObjects.length?(l(!0),m(j,{key:1},h(n.completedObjects,a=>(l(),d(b,{object:a,onRemoveObject:i.removeObject,onChangeValue:i.changeValue,onSortObjects:i.sortedList,key:a.id},null,8,["object","onRemoveObject","onChangeValue","onSortObjects"]))),128)):_("",!0)])])}const g=k(J,[["render",P]]);const T={components:{ObjectList:g}},K=Object.assign(T,{__name:"Home",setup(e){return(c,t)=>(l(),d(g,{objects:c.objects},null,8,["objects"]))}});export{K as default};
